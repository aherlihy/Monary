<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>mongoc_write_concern_t</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="MongoDB C Driver">MongoDB C Driver</a> › <a class="trail" href="index.html#api-reference" title="API Reference">API Reference</a> » </div></div></div>
<div class="body">
<div class="hgroup">
<h1 class="title"><span class="title">mongoc_write_concern_t</span></h1>
<h2 class="subtitle"><span class="subtitle">Write Concern abstraction</span></h2>
</div>
<div class="region">
<div class="contents"></div>
<div id="description" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Synopsis</span></h2></div>
<div class="region"><div class="contents">
<p class="p"><span class="code">mongoc_write_concern_t</span> provides an abstraction on top of the MongoDB connection write concern.  It allows for hinting to the driver how durable writes should be, both in replication as well as on a per node basis.</p>
<p class="p">You can specify a read preference mode on connection objects, database objects, collection objects, or per-operation.</p>
</div></div>
</div></div>
<div id="levels" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Write Concern Levels</span></h2></div>
<div class="region"><div class="contents">
<div class="table"><div class="inner">
<div class="title title-table"><h3><span class="title">Network Related</span></h3></div>
<div class="region"><table class="table">
<tr>
<td><p class="p">MONGOC_WRITE_CONCERN_W_DEFAULT (1)</p></td>
<td><p class="p">With a receipt acknowledged write concern, the mongod confirms the receipt of the write operation. Acknowledged write concern allows clients to catch network, duplicate key, and other errors.</p></td>
</tr>
<tr>
<td><p class="p">MONGOC_WRITE_CONCERN_W_ERRORS_IGNORED (-1)</p></td>
<td><p class="p">With an errors ignored write concern, MongoDB does not acknowledge write operations. With this level of write concern, the client cannot detect failed write operations. These errors include connection errors and mongod exceptions such as duplicate key exceptions for unique indexes. Although the errors ignored write concern provides fast performance, this performance gain comes at the cost of significant risks for data persistence and durability.</p></td>
</tr>
<tr>
<td><p class="p">MONGOC_WRITE_CONCERN_W_UNACKNOWLEDGED (0)</p></td>
<td><p class="p">With an unacknowledged write concern, MongoDB does not acknowledge the receipt of write operation. Unacknowledged is similar to errors ignored; however, mongoc attempts to receive and handle network errors when possible.</p></td>
</tr>
<tr>
<td><p class="p">MONGOC_WRITE_CONCERN_W_MAJORITY (majority)</p></td>
<td><p class="p">Require that a write has been propagated to a majority of the nodes in the replica set.</p></td>
</tr>
<tr>
<td><p class="p">n</p></td>
<td><p class="p">Require that a write has been propagated to at least <span class="code">n</span> nodes in the replica set.</p></td>
</tr>
</table></div>
</div></div>
<div class="table"><div class="inner">
<div class="title title-table"><h3><span class="title">Node Persistence</span></h3></div>
<div class="region"><table class="table">
<tr>
<td><p class="p">fsync</p></td>
<td><p class="p">Force a full <span class="code">fsync()</span> on the node receiving the write.</p></td>
</tr>
<tr>
<td><p class="p">journal</p></td>
<td><p class="p">Force a flush to the journal on the node receiving the write.</p></td>
</tr>
</table></div>
</div></div>
</div></div>
</div></div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents">
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Functions</span></h2></div>
<div class="region">
<div class="links-twocolumn">
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_copy.html" title="mongoc_write_concern_copy()"><span class="title">mongoc_write_concern_copy()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_destroy.html" title="mongoc_write_concern_destroy()"><span class="title">mongoc_write_concern_destroy()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_fsync.html" title="mongoc_write_concern_get_fsync()"><span class="title">mongoc_write_concern_get_fsync()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_journal.html" title="mongoc_write_concern_get_journal()"><span class="title">mongoc_write_concern_get_journal()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_w.html" title="mongoc_write_concern_get_w()"><span class="title">mongoc_write_concern_get_w()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_wmajority.html" title="mongoc_write_concern_get_wmajority()"><span class="title">mongoc_write_concern_get_wmajority()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_wtag.html" title="mongoc_write_concern_get_wtag()"><span class="title">mongoc_write_concern_get_wtag()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_get_wtimeout.html" title="mongoc_write_concern_get_wtimeout()"><span class="title">mongoc_write_concern_get_wtimeout()</span></a></div>
</div>
<div class="links-twocolumn">
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_new.html" title="mongoc_write_concern_new()"><span class="title">mongoc_write_concern_new()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_fsync.html" title="mongoc_write_concern_set_fsync()"><span class="title">mongoc_write_concern_set_fsync()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_journal.html" title="mongoc_write_concern_set_journal()"><span class="title">mongoc_write_concern_set_journal()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_w.html" title="mongoc_write_concern_set_w()"><span class="title">mongoc_write_concern_set_w()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_wmajority.html" title="mongoc_write_concern_set_wmajority()"><span class="title">mongoc_write_concern_set_wmajority()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_wtag.html" title="mongoc_write_concern_set_wtag()"><span class="title">mongoc_write_concern_set_wtag()</span></a></div>
<div class="linkdiv "><a class="linkdiv" href="mongoc_write_concern_set_wtimeout.html" title="mongoc_write_concern_set_wtimeout()"><span class="title">mongoc_write_concern_set_wtimeout()</span></a></div>
</div>
</div>
</div></div>
<div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="index.html#api-reference" title="API Reference">API Reference</a></li></ul></div>
</div></div>
</div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
